{"ast":null,"code":"var _jsxFileName = \"/Users/sidvas/Desktop/Human-Loop-Mturk/frontend-website/src/StudyPage.js\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport React, { Component } from \"react\";\nimport \"./studyPage.css\";\nimport DistractionTask from \"./DistractionTask\";\nimport MainQuestions from \"./MainQuestions\";\nimport { Button } from \"react-bootstrap\";\nimport Popup from \"reactjs-popup\";\nimport Survey from \"./Survey\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass StudyPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.update_results = (results, current_survey) => {\n      const adapt_state = this.state;\n      adapt_state.survey_results[current_survey] = results;\n      this.setState({\n        adapt_state\n      });\n    };\n\n    this.updateMain = results => {\n      const adapt_state = this.state;\n      adapt_state.main_task_results = results;\n      this.setState({\n        adapt_state\n      });\n    };\n\n    this.updateSide = results => {\n      const adapt_state = this.state;\n      adapt_state.distraction_task_results = results;\n      this.setState({\n        adapt_state\n      });\n    };\n\n    this.move_to = (study_part, condition) => {\n      this.props.router.navigate(\"/\" + this.state.user_id + study_part.toString() + \"/\" + condition.toString());\n    };\n\n    this.setTimerId = id => {\n      const adapt_state = this.state;\n      adapt_state.main_timer_id = id;\n      this.setState({\n        adapt_state\n      });\n    };\n\n    this.setTimer = time => {\n      const adapt_state = this.state;\n      adapt_state.timer = time;\n      this.setState({\n        adapt_state\n      });\n    };\n\n    this.setStart = truth => {\n      const adapt_state = this.state;\n      adapt_state.experiment_start = truth;\n      this.setState({\n        adapt_state\n      });\n    };\n\n    this.updateCurrentTime = () => {\n      if (this.state.current_time === this.state.total_time) {\n        clearInterval(this.state.main_timer_id);\n      } else {\n        const adapt_state = this.state;\n        adapt_state.current_time += 1000;\n        console.log(adapt_state.current_time);\n        this.setState({\n          adapt_state\n        });\n        this.printTime();\n      }\n    };\n\n    this.getTimeRemaining = () => {\n      const total = this.state.total_time - this.state.current_time;\n      const seconds = Math.floor(total / 1000 % 60);\n      const minutes = Math.floor(total / 1000 / 60 % 60);\n      const hours = Math.floor(total / 1000 / 60 / 60 % 24);\n      return {\n        total,\n        hours,\n        minutes,\n        seconds\n      };\n    };\n\n    this.printTime = () => {\n      let {\n        total,\n        hours,\n        minutes,\n        seconds\n      } = this.getTimeRemaining();\n\n      if (total >= 0) {\n        this.setTimer((hours > 9 ? hours : \"0\" + hours) + \":\" + (minutes > 9 ? minutes : \"0\" + minutes) + \":\" + (seconds > 9 ? seconds : \"0\" + seconds));\n      }\n    };\n\n    this.pauseTimer = () => {\n      clearInterval(this.state.main_timer_id);\n      this.setTimerId(null);\n    };\n\n    this.restartTimer = () => {\n      const id = setInterval(() => {\n        this.updateCurrentTime();\n      }, 1000);\n      this.setTimerId(id);\n    };\n\n    this.startTimer = () => {\n      const id = setInterval(() => {\n        this.updateCurrentTime();\n      }, 1000);\n      this.setTimerId(id);\n      this.setStart(false);\n    };\n\n    this.displayStudy = () => {\n      if (this.state.experiment_start) {\n        return /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          type: \"submit\",\n          onClick: this.startTimer,\n          children: \"Start\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 9\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(Survey, {\n            update_results: this.updateSurvey,\n            enabled: this.state.display_survey\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm border-10\",\n              children: /*#__PURE__*/_jsxDEV(DistractionTask, {\n                config: this.props.config[this.state.current_condition][\"side-task\"],\n                time: this.state.current_time,\n                update_results: this.updateSide\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm border-10\",\n              children: /*#__PURE__*/_jsxDEV(MainQuestions, {\n                config: this.props.config[this.state.current_condition][\"main-task\"],\n                time: this.state.current_time,\n                update_results: this.updateMain\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 9\n        }, this);\n      }\n    };\n\n    this.state = {\n      timer: \"00:05:30\",\n      total_time: 330000,\n      current_time: 0,\n      current_condition: parseInt(this.props.router.params.study_part_i),\n      main_timer_id: null,\n      user_id: this.props.router.params.id,\n      experiment_start: true,\n      main_task_results: null,\n      distraction_task_results: null,\n      survey_results: [],\n      survey_timer: 91000,\n      current_survey: 0,\n      display_survey: false\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Timer\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: this.state.timer\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), this.displayStudy()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default StudyPage;","map":{"version":3,"names":["React","Component","DistractionTask","MainQuestions","Button","Popup","Survey","StudyPage","constructor","props","update_results","results","current_survey","adapt_state","state","survey_results","setState","updateMain","main_task_results","updateSide","distraction_task_results","move_to","study_part","condition","router","navigate","user_id","toString","setTimerId","id","main_timer_id","setTimer","time","timer","setStart","truth","experiment_start","updateCurrentTime","current_time","total_time","clearInterval","console","log","printTime","getTimeRemaining","total","seconds","Math","floor","minutes","hours","pauseTimer","restartTimer","setInterval","startTimer","displayStudy","updateSurvey","display_survey","config","current_condition","parseInt","params","study_part_i","survey_timer","render"],"sources":["/Users/sidvas/Desktop/Human-Loop-Mturk/frontend-website/src/StudyPage.js"],"sourcesContent":["import \"bootstrap/dist/css/bootstrap.css\";\nimport React, { Component } from \"react\";\nimport \"./studyPage.css\";\nimport DistractionTask from \"./DistractionTask\";\nimport MainQuestions from \"./MainQuestions\";\nimport { Button } from \"react-bootstrap\";\nimport Popup from \"reactjs-popup\";\nimport Survey from \"./Survey\";\n\nclass StudyPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      timer: \"00:05:30\",\n      total_time: 330000,\n      current_time: 0,\n      current_condition: parseInt(this.props.router.params.study_part_i),\n      main_timer_id: null,\n      user_id: this.props.router.params.id,\n      experiment_start: true,\n      main_task_results: null,\n      distraction_task_results: null,\n      survey_results: [],\n      survey_timer: 91000,\n      current_survey: 0,\n      display_survey: false,\n    };\n  }\n\n  update_results = (results, current_survey) => {\n    const adapt_state = this.state;\n    adapt_state.survey_results[current_survey] = results;\n    this.setState({ adapt_state });\n  };\n\n  updateMain = (results) => {\n    const adapt_state = this.state;\n    adapt_state.main_task_results = results;\n    this.setState({ adapt_state });\n  };\n\n  updateSide = (results) => {\n    const adapt_state = this.state;\n    adapt_state.distraction_task_results = results;\n    this.setState({ adapt_state });\n  };\n\n  move_to = (study_part, condition) => {\n    this.props.router.navigate(\n      \"/\" +\n        this.state.user_id +\n        study_part.toString() +\n        \"/\" +\n        condition.toString()\n    );\n  };\n\n  setTimerId = (id) => {\n    const adapt_state = this.state;\n    adapt_state.main_timer_id = id;\n    this.setState({ adapt_state });\n  };\n\n  setTimer = (time) => {\n    const adapt_state = this.state;\n    adapt_state.timer = time;\n\n    this.setState({ adapt_state });\n  };\n\n  setStart = (truth) => {\n    const adapt_state = this.state;\n    adapt_state.experiment_start = truth;\n\n    this.setState({ adapt_state });\n  };\n\n  updateCurrentTime = () => {\n    if (this.state.current_time === this.state.total_time) {\n      clearInterval(this.state.main_timer_id);\n    } else {\n      const adapt_state = this.state;\n      adapt_state.current_time += 1000;\n      console.log(adapt_state.current_time);\n      this.setState({ adapt_state });\n      this.printTime();\n    }\n  };\n\n  getTimeRemaining = () => {\n    const total = this.state.total_time - this.state.current_time;\n    const seconds = Math.floor((total / 1000) % 60);\n    const minutes = Math.floor((total / 1000 / 60) % 60);\n    const hours = Math.floor((total / 1000 / 60 / 60) % 24);\n    return {\n      total,\n      hours,\n      minutes,\n      seconds,\n    };\n  };\n\n  printTime = () => {\n    let { total, hours, minutes, seconds } = this.getTimeRemaining();\n    if (total >= 0) {\n      this.setTimer(\n        (hours > 9 ? hours : \"0\" + hours) +\n          \":\" +\n          (minutes > 9 ? minutes : \"0\" + minutes) +\n          \":\" +\n          (seconds > 9 ? seconds : \"0\" + seconds)\n      );\n    }\n  };\n\n  pauseTimer = () => {\n    clearInterval(this.state.main_timer_id);\n    this.setTimerId(null);\n  };\n\n  restartTimer = () => {\n    const id = setInterval(() => {\n      this.updateCurrentTime();\n    }, 1000);\n    this.setTimerId(id);\n  };\n\n  startTimer = () => {\n    const id = setInterval(() => {\n      this.updateCurrentTime();\n    }, 1000);\n    this.setTimerId(id);\n    this.setStart(false);\n  };\n\n  displayStudy = () => {\n    if (this.state.experiment_start) {\n      return (\n        <Button variant=\"primary\" type=\"submit\" onClick={this.startTimer}>\n          Start\n        </Button>\n      );\n    } else {\n      return (\n        <div className=\"container\">\n          <Survey\n            update_results={this.updateSurvey}\n            enabled={this.state.display_survey}\n          ></Survey>\n          <div className=\"row\">\n            <div className=\"col-sm border-10\">\n              <DistractionTask\n                config={\n                  this.props.config[this.state.current_condition][\"side-task\"]\n                }\n                time={this.state.current_time}\n                update_results={this.updateSide}\n              ></DistractionTask>\n            </div>\n            <div className=\"col-sm border-10\">\n              <MainQuestions\n                config={\n                  this.props.config[this.state.current_condition][\"main-task\"]\n                }\n                time={this.state.current_time}\n                update_results={this.updateMain}\n              ></MainQuestions>\n            </div>\n          </div>\n        </div>\n      );\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <div className=\"Timer\">\n          <h2>{this.state.timer}</h2>\n          {this.displayStudy()}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default StudyPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}