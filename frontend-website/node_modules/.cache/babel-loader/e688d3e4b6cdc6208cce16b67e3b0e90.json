{"ast":null,"code":"var _jsxFileName = \"/Users/sidvas/Desktop/Human-Loop-Mturk/frontend-website/src/BBox.js\";\nimport React, { Component } from \"react\";\nimport { Form } from \"react-bootstrap\";\nimport { Button } from \"react-bootstrap\";\nimport BBoxAnnotator from \"react-bbox-annotator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass BBox extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      form: {\n        question: this.props.config[\"question\"],\n        answer: null,\n        time_taken: 0,\n        question_difficulty: this.props.config[\"question_difficulty\"],\n        interval: this.props.interval,\n        user_busyness: this.props.user_busyness\n      },\n      q_timer_id: null\n    };\n\n    this.setTimerId = id => {\n      const adapt_state = this.state;\n      adapt_state.q_timer_id = id;\n      this.setState({\n        adapt_state\n      });\n    };\n\n    this.setTimer = time => {\n      const adapt_state = this.state;\n      adapt_state.form.time_taken = time;\n      this.setState({\n        adapt_state\n      });\n    };\n\n    this.setAnswer = ans => {\n      const adapt_state = this.state;\n      adapt_state.form.answer = ans;\n      this.setState({\n        adapt_state\n      });\n    };\n\n    this.updateCurrentTime = () => {\n      if (this.state.form.time_taken === 60000) {\n        clearInterval(this.state.q_timer_id);\n        var copy = {};\n        Object.assign(copy, this.state.form);\n        this.props.update_results(copy);\n        this.props.set_display(false);\n      } else {\n        const adapt_state = this.state;\n        adapt_state.form.time_taken += 100;\n        this.setState({\n          adapt_state\n        });\n      }\n    };\n\n    this.startTimer = () => {\n      const id = setInterval(() => {\n        this.updateCurrentTime();\n      }, 100);\n      this.setTimerId(id);\n    };\n\n    this.componentDidMount = () => {\n      this.startTimer();\n    };\n\n    this.update_answers = event => {\n      this.setAnswer(event);\n      console.log(this.state.form.answer);\n    };\n\n    this.submitHandler = () => {\n      clearInterval(this.state.q_timer_id);\n      var copy = {};\n      Object.assign(copy, this.state.form);\n      this.props.update_results(copy);\n      this.props.set_display(false);\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: this.props.config[\"question\"]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BBoxAnnotator, {\n        url: `../images/${this.props.config[\"context-source\"]}.jpg`,\n        inputMethod: \"select\",\n        labels: this.props.config[\"labels\"],\n        onChange: e => this.update_answers(e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        type: \"submit\",\n        onClick: this.submitHandler,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default BBox;","map":{"version":3,"names":["React","Component","Form","Button","BBoxAnnotator","BBox","state","form","question","props","config","answer","time_taken","question_difficulty","interval","user_busyness","q_timer_id","setTimerId","id","adapt_state","setState","setTimer","time","setAnswer","ans","updateCurrentTime","clearInterval","copy","Object","assign","update_results","set_display","startTimer","setInterval","componentDidMount","update_answers","event","console","log","submitHandler","render","e"],"sources":["/Users/sidvas/Desktop/Human-Loop-Mturk/frontend-website/src/BBox.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { Form } from \"react-bootstrap\";\nimport { Button } from \"react-bootstrap\";\nimport BBoxAnnotator from \"react-bbox-annotator\";\nclass BBox extends Component {\n  state = {\n    form: {\n      question: this.props.config[\"question\"],\n      answer: null,\n      time_taken: 0,\n      question_difficulty: this.props.config[\"question_difficulty\"],\n      interval: this.props.interval,\n      user_busyness: this.props.user_busyness,\n    },\n    q_timer_id: null,\n  };\n\n  setTimerId = (id) => {\n    const adapt_state = this.state;\n    adapt_state.q_timer_id = id;\n    this.setState({ adapt_state });\n  };\n\n  setTimer = (time) => {\n    const adapt_state = this.state;\n    adapt_state.form.time_taken = time;\n\n    this.setState({ adapt_state });\n  };\n\n  setAnswer = (ans) => {\n    const adapt_state = this.state;\n    adapt_state.form.answer = ans;\n\n    this.setState({ adapt_state });\n  };\n\n  updateCurrentTime = () => {\n    if (this.state.form.time_taken === 60000) {\n      clearInterval(this.state.q_timer_id);\n      var copy = {};\n      Object.assign(copy, this.state.form);\n      this.props.update_results(copy);\n      this.props.set_display(false);\n    } else {\n      const adapt_state = this.state;\n      adapt_state.form.time_taken += 100;\n      this.setState({ adapt_state });\n    }\n  };\n\n  startTimer = () => {\n    const id = setInterval(() => {\n      this.updateCurrentTime();\n    }, 100);\n    this.setTimerId(id);\n  };\n\n  componentDidMount = () => {\n    this.startTimer();\n  };\n\n  update_answers = (event) => {\n    this.setAnswer(event);\n    console.log(this.state.form.answer);\n  };\n\n  submitHandler = () => {\n    clearInterval(this.state.q_timer_id);\n    var copy = {};\n    Object.assign(copy, this.state.form);\n    this.props.update_results(copy);\n    this.props.set_display(false);\n  };\n\n  render() {\n    return (\n      <div>\n        <div>{this.props.config[\"question\"]}</div>\n        <BBoxAnnotator\n          url={`../images/${this.props.config[\"context-source\"]}.jpg`}\n          inputMethod=\"select\"\n          labels={this.props.config[\"labels\"]}\n          onChange={(e) => this.update_answers(e)}\n        />\n        <Button variant=\"primary\" type=\"submit\" onClick={this.submitHandler}>\n          Submit\n        </Button>\n      </div>\n    );\n  }\n}\n\nexport default BBox;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}