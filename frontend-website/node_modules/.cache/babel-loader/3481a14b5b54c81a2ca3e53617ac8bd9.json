{"ast":null,"code":"var _jsxFileName = \"/Users/sidvas/Desktop/Human-Loop-Mturk/frontend-website/src/MainQuestions.js\";\nimport React, { Component } from \"react\";\nimport MCQ from \"./MCQ\";\nimport OpenEndedQ from \"./openEndedQ\";\nimport BBox from \"./BBox\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass MainQuestions extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      current_question: 0,\n      when_to_display: this.props.config[\"first question\"],\n      last_call: 0,\n      is_displayed: false,\n      results: []\n    };\n\n    this.setDisplay = truth => {\n      const adapt_state = this.state;\n      adapt_state.is_displayed = truth;\n      this.setState({\n        adapt_state\n      });\n    };\n\n    this.updateResults = question_results => {\n      this.setResults(question_results, this.state.current_question);\n      console.log(this.state.results);\n    };\n\n    this.setResults = (results, current_question) => {\n      const adapt_state = this.state;\n      adapt_state.results[current_question] = results;\n      console.log(adapt_state.results, this.state.results, this.state.current_question);\n      this.setState({\n        adapt_state\n      });\n    };\n\n    this.updateDisplay = () => {\n      const adapt_state = this.state;\n      adapt_state.is_displayed = false;\n      adapt_state.current_question += 1;\n      adapt_state.when_to_display += this.props.config[\"interval\"];\n    };\n\n    this.renderQuestion = () => {\n      if (this.state.is_displayed) {\n        if (this.props.config[\"questions\"][this.state.current_question][\"type\"] === \"open-ended\") {\n          return /*#__PURE__*/_jsxDEV(OpenEndedQ, {\n            config: this.props.config[\"questions\"][this.state.current_question],\n            current_question: this.state.current_question,\n            update_results: this.updateResults,\n            update_display: this.updateDisplay,\n            user_busyness: this.props.config[\"busyness\"],\n            interval: this.props.config[\"interval\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 11\n          }, this);\n        } else if (this.props.config[\"questions\"][this.state.current_question][\"type\"] === \"mcq\") {\n          return /*#__PURE__*/_jsxDEV(MCQ, {\n            config: this.props.config[\"questions\"][this.state.current_question],\n            current_question: this.state.current_question,\n            update_results: this.updateResults,\n            update_display: this.updateDisplay,\n            user_busyness: this.props.config[\"busyness\"],\n            interval: this.props.config[\"interval\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 11\n          }, this);\n        } else if (this.props.config[\"questions\"][this.state.current_question][\"type\"] === \"bbox\") {\n          return /*#__PURE__*/_jsxDEV(BBox, {\n            config: this.props.config[\"questions\"][this.state.current_question],\n            current_question: this.state.current_question,\n            update_results: this.updateResults,\n            update_display: this.updateDisplay,\n            user_busyness: this.props.config[\"busyness\"],\n            interval: this.props.config[\"interval\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 11\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 16\n          }, this);\n        }\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\" \", \"You have 60 seconds to answer the following question. Please click submit the moment you are done with you ranswer to the question.\", \" \", this.renderQuestion()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nMainQuestions.getDerivedStateFromProps = (nextProps, prevState) => {\n  const adapt_state = prevState;\n\n  if (!prevState.is_displayed) {\n    if (prevState.when_to_display === nextProps.time && nextProps.time < 301000) {\n      adapt_state.is_displayed = true;\n      adapt_state.last_call = prevState.when_to_display + 59000;\n      return adapt_state;\n    }\n  } else {\n    if (prevState.last_call === nextProps.time) {\n      adapt_state.is_displayed = false;\n      adapt_state.current_question += 1;\n      adapt_state.when_to_display = prevState.when_to_display + nextProps.config[\"interval\"];\n      console.log(adapt_state);\n      return adapt_state;\n    }\n  }\n\n  if (MainQuestions.props.time === 330000) {\n    var copy = {};\n    Object.assign(copy, MainQuestions.state.results);\n    MainQuestions.props.update_results(copy);\n  }\n\n  return null;\n};\n\nexport default MainQuestions;","map":{"version":3,"names":["React","Component","MCQ","OpenEndedQ","BBox","MainQuestions","state","current_question","when_to_display","props","config","last_call","is_displayed","results","setDisplay","truth","adapt_state","setState","updateResults","question_results","setResults","console","log","updateDisplay","renderQuestion","render","getDerivedStateFromProps","nextProps","prevState","time","copy","Object","assign","update_results"],"sources":["/Users/sidvas/Desktop/Human-Loop-Mturk/frontend-website/src/MainQuestions.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport MCQ from \"./MCQ\";\nimport OpenEndedQ from \"./openEndedQ\";\nimport BBox from \"./BBox\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nclass MainQuestions extends Component {\n  state = {\n    current_question: 0,\n    when_to_display: this.props.config[\"first question\"],\n    last_call: 0,\n    is_displayed: false,\n    results: [],\n  };\n\n  setDisplay = (truth) => {\n    const adapt_state = this.state;\n    adapt_state.is_displayed = truth;\n    this.setState({ adapt_state });\n  };\n\n  updateResults = (question_results) => {\n    this.setResults(question_results, this.state.current_question);\n    console.log(this.state.results);\n  };\n\n  setResults = (results, current_question) => {\n    const adapt_state = this.state;\n    adapt_state.results[current_question] = results;\n    console.log(\n      adapt_state.results,\n      this.state.results,\n      this.state.current_question\n    );\n    this.setState({ adapt_state });\n  };\n\n  static getDerivedStateFromProps = (nextProps, prevState) => {\n    const adapt_state = prevState;\n    if (!prevState.is_displayed) {\n      if (\n        prevState.when_to_display === nextProps.time &&\n        nextProps.time < 301000\n      ) {\n        adapt_state.is_displayed = true;\n        adapt_state.last_call = prevState.when_to_display + 59000;\n        return adapt_state;\n      }\n    } else {\n      if (prevState.last_call === nextProps.time) {\n        adapt_state.is_displayed = false;\n        adapt_state.current_question += 1;\n        adapt_state.when_to_display =\n          prevState.when_to_display + nextProps.config[\"interval\"];\n        console.log(adapt_state);\n        return adapt_state;\n      }\n    }\n    if (this.props.time === 330000) {\n      var copy = {};\n      Object.assign(copy, this.state.results);\n      this.props.update_results(copy);\n    }\n    return null;\n  };\n  updateDisplay = () => {\n    const adapt_state = this.state;\n    adapt_state.is_displayed = false;\n    adapt_state.current_question += 1;\n    adapt_state.when_to_display += this.props.config[\"interval\"];\n  };\n\n  renderQuestion = () => {\n    if (this.state.is_displayed) {\n      if (\n        this.props.config[\"questions\"][this.state.current_question][\"type\"] ===\n        \"open-ended\"\n      ) {\n        return (\n          <OpenEndedQ\n            config={this.props.config[\"questions\"][this.state.current_question]}\n            current_question={this.state.current_question}\n            update_results={this.updateResults}\n            update_display={this.updateDisplay}\n            user_busyness={this.props.config[\"busyness\"]}\n            interval={this.props.config[\"interval\"]}\n          ></OpenEndedQ>\n        );\n      } else if (\n        this.props.config[\"questions\"][this.state.current_question][\"type\"] ===\n        \"mcq\"\n      ) {\n        return (\n          <MCQ\n            config={this.props.config[\"questions\"][this.state.current_question]}\n            current_question={this.state.current_question}\n            update_results={this.updateResults}\n            update_display={this.updateDisplay}\n            user_busyness={this.props.config[\"busyness\"]}\n            interval={this.props.config[\"interval\"]}\n          ></MCQ>\n        );\n      } else if (\n        this.props.config[\"questions\"][this.state.current_question][\"type\"] ===\n        \"bbox\"\n      ) {\n        return (\n          <BBox\n            config={this.props.config[\"questions\"][this.state.current_question]}\n            current_question={this.state.current_question}\n            update_results={this.updateResults}\n            update_display={this.updateDisplay}\n            user_busyness={this.props.config[\"busyness\"]}\n            interval={this.props.config[\"interval\"]}\n          ></BBox>\n        );\n      } else {\n        return <div></div>;\n      }\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        {\" \"}\n        You have 60 seconds to answer the following question. Please click\n        submit the moment you are done with you ranswer to the question.{\" \"}\n        {this.renderQuestion()}\n      </div>\n    );\n  }\n}\n\nexport default MainQuestions;\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,GAAP,MAAgB,OAAhB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAO,sCAAP;;;AAEA,MAAMC,aAAN,SAA4BJ,SAA5B,CAAsC;EAAA;IAAA;IAAA,KACpCK,KADoC,GAC5B;MACNC,gBAAgB,EAAE,CADZ;MAENC,eAAe,EAAE,KAAKC,KAAL,CAAWC,MAAX,CAAkB,gBAAlB,CAFX;MAGNC,SAAS,EAAE,CAHL;MAINC,YAAY,EAAE,KAJR;MAKNC,OAAO,EAAE;IALH,CAD4B;;IAAA,KASpCC,UAToC,GAStBC,KAAD,IAAW;MACtB,MAAMC,WAAW,GAAG,KAAKV,KAAzB;MACAU,WAAW,CAACJ,YAAZ,GAA2BG,KAA3B;MACA,KAAKE,QAAL,CAAc;QAAED;MAAF,CAAd;IACD,CAbmC;;IAAA,KAepCE,aAfoC,GAenBC,gBAAD,IAAsB;MACpC,KAAKC,UAAL,CAAgBD,gBAAhB,EAAkC,KAAKb,KAAL,CAAWC,gBAA7C;MACAc,OAAO,CAACC,GAAR,CAAY,KAAKhB,KAAL,CAAWO,OAAvB;IACD,CAlBmC;;IAAA,KAoBpCO,UApBoC,GAoBvB,CAACP,OAAD,EAAUN,gBAAV,KAA+B;MAC1C,MAAMS,WAAW,GAAG,KAAKV,KAAzB;MACAU,WAAW,CAACH,OAAZ,CAAoBN,gBAApB,IAAwCM,OAAxC;MACAQ,OAAO,CAACC,GAAR,CACEN,WAAW,CAACH,OADd,EAEE,KAAKP,KAAL,CAAWO,OAFb,EAGE,KAAKP,KAAL,CAAWC,gBAHb;MAKA,KAAKU,QAAL,CAAc;QAAED;MAAF,CAAd;IACD,CA7BmC;;IAAA,KA2DpCO,aA3DoC,GA2DpB,MAAM;MACpB,MAAMP,WAAW,GAAG,KAAKV,KAAzB;MACAU,WAAW,CAACJ,YAAZ,GAA2B,KAA3B;MACAI,WAAW,CAACT,gBAAZ,IAAgC,CAAhC;MACAS,WAAW,CAACR,eAAZ,IAA+B,KAAKC,KAAL,CAAWC,MAAX,CAAkB,UAAlB,CAA/B;IACD,CAhEmC;;IAAA,KAkEpCc,cAlEoC,GAkEnB,MAAM;MACrB,IAAI,KAAKlB,KAAL,CAAWM,YAAf,EAA6B;QAC3B,IACE,KAAKH,KAAL,CAAWC,MAAX,CAAkB,WAAlB,EAA+B,KAAKJ,KAAL,CAAWC,gBAA1C,EAA4D,MAA5D,MACA,YAFF,EAGE;UACA,oBACE,QAAC,UAAD;YACE,MAAM,EAAE,KAAKE,KAAL,CAAWC,MAAX,CAAkB,WAAlB,EAA+B,KAAKJ,KAAL,CAAWC,gBAA1C,CADV;YAEE,gBAAgB,EAAE,KAAKD,KAAL,CAAWC,gBAF/B;YAGE,cAAc,EAAE,KAAKW,aAHvB;YAIE,cAAc,EAAE,KAAKK,aAJvB;YAKE,aAAa,EAAE,KAAKd,KAAL,CAAWC,MAAX,CAAkB,UAAlB,CALjB;YAME,QAAQ,EAAE,KAAKD,KAAL,CAAWC,MAAX,CAAkB,UAAlB;UANZ;YAAA;YAAA;YAAA;UAAA,QADF;QAUD,CAdD,MAcO,IACL,KAAKD,KAAL,CAAWC,MAAX,CAAkB,WAAlB,EAA+B,KAAKJ,KAAL,CAAWC,gBAA1C,EAA4D,MAA5D,MACA,KAFK,EAGL;UACA,oBACE,QAAC,GAAD;YACE,MAAM,EAAE,KAAKE,KAAL,CAAWC,MAAX,CAAkB,WAAlB,EAA+B,KAAKJ,KAAL,CAAWC,gBAA1C,CADV;YAEE,gBAAgB,EAAE,KAAKD,KAAL,CAAWC,gBAF/B;YAGE,cAAc,EAAE,KAAKW,aAHvB;YAIE,cAAc,EAAE,KAAKK,aAJvB;YAKE,aAAa,EAAE,KAAKd,KAAL,CAAWC,MAAX,CAAkB,UAAlB,CALjB;YAME,QAAQ,EAAE,KAAKD,KAAL,CAAWC,MAAX,CAAkB,UAAlB;UANZ;YAAA;YAAA;YAAA;UAAA,QADF;QAUD,CAdM,MAcA,IACL,KAAKD,KAAL,CAAWC,MAAX,CAAkB,WAAlB,EAA+B,KAAKJ,KAAL,CAAWC,gBAA1C,EAA4D,MAA5D,MACA,MAFK,EAGL;UACA,oBACE,QAAC,IAAD;YACE,MAAM,EAAE,KAAKE,KAAL,CAAWC,MAAX,CAAkB,WAAlB,EAA+B,KAAKJ,KAAL,CAAWC,gBAA1C,CADV;YAEE,gBAAgB,EAAE,KAAKD,KAAL,CAAWC,gBAF/B;YAGE,cAAc,EAAE,KAAKW,aAHvB;YAIE,cAAc,EAAE,KAAKK,aAJvB;YAKE,aAAa,EAAE,KAAKd,KAAL,CAAWC,MAAX,CAAkB,UAAlB,CALjB;YAME,QAAQ,EAAE,KAAKD,KAAL,CAAWC,MAAX,CAAkB,UAAlB;UANZ;YAAA;YAAA;YAAA;UAAA,QADF;QAUD,CAdM,MAcA;UACL,oBAAO;YAAA;YAAA;YAAA;UAAA,QAAP;QACD;MACF;IACF,CAlHmC;EAAA;;EAoHpCe,MAAM,GAAG;IACP,oBACE;MAAA,WACG,GADH,yIAGmE,GAHnE,EAIG,KAAKD,cAAL,EAJH;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EAQD;;AA7HmC;;AAAhCnB,a,CA+BGqB,wB,GAA2B,CAACC,SAAD,EAAYC,SAAZ,KAA0B;EAC1D,MAAMZ,WAAW,GAAGY,SAApB;;EACA,IAAI,CAACA,SAAS,CAAChB,YAAf,EAA6B;IAC3B,IACEgB,SAAS,CAACpB,eAAV,KAA8BmB,SAAS,CAACE,IAAxC,IACAF,SAAS,CAACE,IAAV,GAAiB,MAFnB,EAGE;MACAb,WAAW,CAACJ,YAAZ,GAA2B,IAA3B;MACAI,WAAW,CAACL,SAAZ,GAAwBiB,SAAS,CAACpB,eAAV,GAA4B,KAApD;MACA,OAAOQ,WAAP;IACD;EACF,CATD,MASO;IACL,IAAIY,SAAS,CAACjB,SAAV,KAAwBgB,SAAS,CAACE,IAAtC,EAA4C;MAC1Cb,WAAW,CAACJ,YAAZ,GAA2B,KAA3B;MACAI,WAAW,CAACT,gBAAZ,IAAgC,CAAhC;MACAS,WAAW,CAACR,eAAZ,GACEoB,SAAS,CAACpB,eAAV,GAA4BmB,SAAS,CAACjB,MAAV,CAAiB,UAAjB,CAD9B;MAEAW,OAAO,CAACC,GAAR,CAAYN,WAAZ;MACA,OAAOA,WAAP;IACD;EACF;;EACD,IApDEX,aAoDE,CAAKI,KAAL,CAAWoB,IAAX,KAAoB,MAAxB,EAAgC;IAC9B,IAAIC,IAAI,GAAG,EAAX;IACAC,MAAM,CAACC,MAAP,CAAcF,IAAd,EAtDAzB,aAsDoB,CAAKC,KAAL,CAAWO,OAA/B;IAtDAR,aAuDA,CAAKI,KAAL,CAAWwB,cAAX,CAA0BH,IAA1B;EACD;;EACD,OAAO,IAAP;AACD,C;;AAsEH,eAAezB,aAAf"},"metadata":{},"sourceType":"module"}