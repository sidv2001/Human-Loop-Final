{"ast":null,"code":"var _jsxFileName = \"/Users/sidvas/Desktop/Human-Loop-Mturk/frontend-website/src/openEndedQ.js\";\nimport React, { Component } from \"react\";\nimport { Form } from \"react-bootstrap\";\nimport { Button } from \"react-bootstrap\";\nimport Image from \"react-bootstrap/Image\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport ReactPlayer from \"react-player\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass OpenEndedQ extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      form: {\n        question: this.props.config[\"question\"],\n        answer: null,\n        time_taken: 0,\n        question_difficulty: this.props.config[\"question_difficulty\"],\n        interval: this.props.interval,\n        user_busyness: this.props.user_busyness\n      },\n      q_timer_id: null\n    };\n\n    this.setTimerId = id => {\n      const adapt_state = this.state;\n      adapt_state.q_timer_id = id;\n      this.setState({\n        adapt_state\n      });\n    };\n\n    this.setTimer = time => {\n      const adapt_state = this.state;\n      adapt_state.form.time_taken = time;\n      this.setState({\n        adapt_state\n      });\n    };\n\n    this.setAnswer = ans => {\n      const adapt_state = this.state;\n      adapt_state.form.answer = ans;\n      this.setState({\n        adapt_state\n      });\n    };\n\n    this.updateCurrentTime = () => {\n      if (this.state.form.time_taken === 60000) {\n        clearInterval(this.state.q_timer_id);\n      } else {\n        const adapt_state = this.state;\n        adapt_state.form.time_taken += 100;\n        this.setState({\n          adapt_state\n        });\n      }\n    };\n\n    this.startTimer = () => {\n      const id = setInterval(() => {\n        this.updateCurrentTime();\n      }, 100);\n      this.setTimerId(id);\n    };\n\n    this.componentDidMount = () => {\n      this.startTimer();\n    };\n\n    this.update_answers = event => {\n      this.setAnswer(event.target.value);\n      this.props.update_results(this.state.form);\n    };\n\n    this.submitHandler = () => {\n      clearInterval(this.state.q_timer_id);\n      var copy = {};\n      Object.assign(copy, this.state.form);\n      this.props.update_results(copy);\n      this.props.update_display();\n    };\n\n    this.displayContext = () => {\n      if (this.props.config[\"context-type\"] === \"video\") {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ratio ratio-16x9\",\n          children: /*#__PURE__*/_jsxDEV(ReactPlayer, {\n            url: `../images/${URL.createObjectURL(this.props.config[\"context-source\"])}.jpg`,\n            width: \"100%\",\n            height: \"100%\",\n            controls: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }, this);\n      } else if (this.props.config[\"context-type\"] === \"image\") {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            src: `../images/${this.props.config[\"context-source\"]}.jpg`,\n            fluid: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 9\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 14\n        }, this);\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"Form.Question\" + this.props.current_question.toString(),\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: [this.displayContext(), this.props.config[\"question\"]]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"textarea\",\n            rows: 3,\n            onChange: this.update_answers\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          type: \"submit\",\n          onClick: this.submitHandler,\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default OpenEndedQ;","map":{"version":3,"names":["React","Component","Form","Button","Image","ReactPlayer","OpenEndedQ","state","form","question","props","config","answer","time_taken","question_difficulty","interval","user_busyness","q_timer_id","setTimerId","id","adapt_state","setState","setTimer","time","setAnswer","ans","updateCurrentTime","clearInterval","startTimer","setInterval","componentDidMount","update_answers","event","target","value","update_results","submitHandler","copy","Object","assign","update_display","displayContext","URL","createObjectURL","render","current_question","toString"],"sources":["/Users/sidvas/Desktop/Human-Loop-Mturk/frontend-website/src/openEndedQ.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { Form } from \"react-bootstrap\";\nimport { Button } from \"react-bootstrap\";\nimport Image from \"react-bootstrap/Image\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport ReactPlayer from \"react-player\";\n\nclass OpenEndedQ extends Component {\n  state = {\n    form: {\n      question: this.props.config[\"question\"],\n      answer: null,\n      time_taken: 0,\n      question_difficulty: this.props.config[\"question_difficulty\"],\n      interval: this.props.interval,\n      user_busyness: this.props.user_busyness,\n    },\n    q_timer_id: null,\n  };\n\n  setTimerId = (id) => {\n    const adapt_state = this.state;\n    adapt_state.q_timer_id = id;\n    this.setState({ adapt_state });\n  };\n\n  setTimer = (time) => {\n    const adapt_state = this.state;\n    adapt_state.form.time_taken = time;\n\n    this.setState({ adapt_state });\n  };\n\n  setAnswer = (ans) => {\n    const adapt_state = this.state;\n    adapt_state.form.answer = ans;\n\n    this.setState({ adapt_state });\n  };\n\n  updateCurrentTime = () => {\n    if (this.state.form.time_taken === 60000) {\n      clearInterval(this.state.q_timer_id);\n    } else {\n      const adapt_state = this.state;\n      adapt_state.form.time_taken += 100;\n      this.setState({ adapt_state });\n    }\n  };\n\n  startTimer = () => {\n    const id = setInterval(() => {\n      this.updateCurrentTime();\n    }, 100);\n    this.setTimerId(id);\n  };\n\n  componentDidMount = () => {\n    this.startTimer();\n  };\n\n  update_answers = (event) => {\n    this.setAnswer(event.target.value);\n    this.props.update_results(this.state.form);\n  };\n\n  submitHandler = () => {\n    clearInterval(this.state.q_timer_id);\n    var copy = {};\n    Object.assign(copy, this.state.form);\n    this.props.update_results(copy);\n    this.props.update_display();\n  };\n\n  displayContext = () => {\n    if (this.props.config[\"context-type\"] === \"video\") {\n      return (\n        <div className=\"ratio ratio-16x9\">\n          <ReactPlayer\n            url={`../images/${URL.createObjectURL(\n              this.props.config[\"context-source\"]\n            )}.jpg`}\n            width=\"100%\"\n            height=\"100%\"\n            controls\n          />\n        </div>\n      );\n    } else if (this.props.config[\"context-type\"] === \"image\") {\n      return (\n        <div>\n          <Image\n            src={`../images/${this.props.config[\"context-source\"]}.jpg`}\n            fluid\n          />\n        </div>\n      );\n    } else {\n      return <div></div>;\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <Form>\n          <Form.Group\n            className=\"mb-3\"\n            controlId={\"Form.Question\" + this.props.current_question.toString()}\n          >\n            <Form.Label>\n              {this.displayContext()}\n              {this.props.config[\"question\"]}\n            </Form.Label>\n            <Form.Control\n              as=\"textarea\"\n              rows={3}\n              onChange={this.update_answers}\n            />\n          </Form.Group>\n          <Button variant=\"primary\" type=\"submit\" onClick={this.submitHandler}>\n            Submit\n          </Button>\n        </Form>\n      </div>\n    );\n  }\n}\n\nexport default OpenEndedQ;\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,iBAArB;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAO,sCAAP;AACA,OAAOC,WAAP,MAAwB,cAAxB;;;AAEA,MAAMC,UAAN,SAAyBL,SAAzB,CAAmC;EAAA;IAAA;IAAA,KACjCM,KADiC,GACzB;MACNC,IAAI,EAAE;QACJC,QAAQ,EAAE,KAAKC,KAAL,CAAWC,MAAX,CAAkB,UAAlB,CADN;QAEJC,MAAM,EAAE,IAFJ;QAGJC,UAAU,EAAE,CAHR;QAIJC,mBAAmB,EAAE,KAAKJ,KAAL,CAAWC,MAAX,CAAkB,qBAAlB,CAJjB;QAKJI,QAAQ,EAAE,KAAKL,KAAL,CAAWK,QALjB;QAMJC,aAAa,EAAE,KAAKN,KAAL,CAAWM;MANtB,CADA;MASNC,UAAU,EAAE;IATN,CADyB;;IAAA,KAajCC,UAbiC,GAanBC,EAAD,IAAQ;MACnB,MAAMC,WAAW,GAAG,KAAKb,KAAzB;MACAa,WAAW,CAACH,UAAZ,GAAyBE,EAAzB;MACA,KAAKE,QAAL,CAAc;QAAED;MAAF,CAAd;IACD,CAjBgC;;IAAA,KAmBjCE,QAnBiC,GAmBrBC,IAAD,IAAU;MACnB,MAAMH,WAAW,GAAG,KAAKb,KAAzB;MACAa,WAAW,CAACZ,IAAZ,CAAiBK,UAAjB,GAA8BU,IAA9B;MAEA,KAAKF,QAAL,CAAc;QAAED;MAAF,CAAd;IACD,CAxBgC;;IAAA,KA0BjCI,SA1BiC,GA0BpBC,GAAD,IAAS;MACnB,MAAML,WAAW,GAAG,KAAKb,KAAzB;MACAa,WAAW,CAACZ,IAAZ,CAAiBI,MAAjB,GAA0Ba,GAA1B;MAEA,KAAKJ,QAAL,CAAc;QAAED;MAAF,CAAd;IACD,CA/BgC;;IAAA,KAiCjCM,iBAjCiC,GAiCb,MAAM;MACxB,IAAI,KAAKnB,KAAL,CAAWC,IAAX,CAAgBK,UAAhB,KAA+B,KAAnC,EAA0C;QACxCc,aAAa,CAAC,KAAKpB,KAAL,CAAWU,UAAZ,CAAb;MACD,CAFD,MAEO;QACL,MAAMG,WAAW,GAAG,KAAKb,KAAzB;QACAa,WAAW,CAACZ,IAAZ,CAAiBK,UAAjB,IAA+B,GAA/B;QACA,KAAKQ,QAAL,CAAc;UAAED;QAAF,CAAd;MACD;IACF,CAzCgC;;IAAA,KA2CjCQ,UA3CiC,GA2CpB,MAAM;MACjB,MAAMT,EAAE,GAAGU,WAAW,CAAC,MAAM;QAC3B,KAAKH,iBAAL;MACD,CAFqB,EAEnB,GAFmB,CAAtB;MAGA,KAAKR,UAAL,CAAgBC,EAAhB;IACD,CAhDgC;;IAAA,KAkDjCW,iBAlDiC,GAkDb,MAAM;MACxB,KAAKF,UAAL;IACD,CApDgC;;IAAA,KAsDjCG,cAtDiC,GAsDfC,KAAD,IAAW;MAC1B,KAAKR,SAAL,CAAeQ,KAAK,CAACC,MAAN,CAAaC,KAA5B;MACA,KAAKxB,KAAL,CAAWyB,cAAX,CAA0B,KAAK5B,KAAL,CAAWC,IAArC;IACD,CAzDgC;;IAAA,KA2DjC4B,aA3DiC,GA2DjB,MAAM;MACpBT,aAAa,CAAC,KAAKpB,KAAL,CAAWU,UAAZ,CAAb;MACA,IAAIoB,IAAI,GAAG,EAAX;MACAC,MAAM,CAACC,MAAP,CAAcF,IAAd,EAAoB,KAAK9B,KAAL,CAAWC,IAA/B;MACA,KAAKE,KAAL,CAAWyB,cAAX,CAA0BE,IAA1B;MACA,KAAK3B,KAAL,CAAW8B,cAAX;IACD,CAjEgC;;IAAA,KAmEjCC,cAnEiC,GAmEhB,MAAM;MACrB,IAAI,KAAK/B,KAAL,CAAWC,MAAX,CAAkB,cAAlB,MAAsC,OAA1C,EAAmD;QACjD,oBACE;UAAK,SAAS,EAAC,kBAAf;UAAA,uBACE,QAAC,WAAD;YACE,GAAG,EAAG,aAAY+B,GAAG,CAACC,eAAJ,CAChB,KAAKjC,KAAL,CAAWC,MAAX,CAAkB,gBAAlB,CADgB,CAEhB,MAHJ;YAIE,KAAK,EAAC,MAJR;YAKE,MAAM,EAAC,MALT;YAME,QAAQ;UANV;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QADF;MAYD,CAbD,MAaO,IAAI,KAAKD,KAAL,CAAWC,MAAX,CAAkB,cAAlB,MAAsC,OAA1C,EAAmD;QACxD,oBACE;UAAA,uBACE,QAAC,KAAD;YACE,GAAG,EAAG,aAAY,KAAKD,KAAL,CAAWC,MAAX,CAAkB,gBAAlB,CAAoC,MADxD;YAEE,KAAK;UAFP;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QADF;MAQD,CATM,MASA;QACL,oBAAO;UAAA;UAAA;UAAA;QAAA,QAAP;MACD;IACF,CA7FgC;EAAA;;EA+FjCiC,MAAM,GAAG;IACP,oBACE;MAAA,uBACE,QAAC,IAAD;QAAA,wBACE,QAAC,IAAD,CAAM,KAAN;UACE,SAAS,EAAC,MADZ;UAEE,SAAS,EAAE,kBAAkB,KAAKlC,KAAL,CAAWmC,gBAAX,CAA4BC,QAA5B,EAF/B;UAAA,wBAIE,QAAC,IAAD,CAAM,KAAN;YAAA,WACG,KAAKL,cAAL,EADH,EAEG,KAAK/B,KAAL,CAAWC,MAAX,CAAkB,UAAlB,CAFH;UAAA;YAAA;YAAA;YAAA;UAAA,QAJF,eAQE,QAAC,IAAD,CAAM,OAAN;YACE,EAAE,EAAC,UADL;YAEE,IAAI,EAAE,CAFR;YAGE,QAAQ,EAAE,KAAKoB;UAHjB;YAAA;YAAA;YAAA;UAAA,QARF;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAeE,QAAC,MAAD;UAAQ,OAAO,EAAC,SAAhB;UAA0B,IAAI,EAAC,QAA/B;UAAwC,OAAO,EAAE,KAAKK,aAAtD;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAfF;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF;EAuBD;;AAvHgC;;AA0HnC,eAAe9B,UAAf"},"metadata":{},"sourceType":"module"}